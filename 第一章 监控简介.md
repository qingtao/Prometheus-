## 第一章 监控简介 

### 指标

指标是软件或硬件组件属性的度量。

为了使指标有价值，我们会跟踪其状态，通常记录一段时间内的数据点。这些数据通常称为**观察点**（*observation*），观察点通常包括*值*、*时间戳*，有时也涵盖描述观察点的一系列（如源或标签）。观察的集合称为**时间序列**。

我们通常以固定的时间间隔收集数据，该时间间隔被称为**颗粒度**（*granularity*）或分辨率（*resolution*）。

### 指标类型

监控指标包含多种类型。

1. 测量型（gauge）
2. 计数型（counter）
3. 直方图（histogram）

### 指标摘要

统计指标的一些常用函数包含:

1. **计数**，计算特定时间间隔的观察点数
2. **求和**，将特定时间间隔内所有观察点的值累计相加
3. **平局值**，提供特定时间间隔内所有值的平均值
4. **中间数**，数值的几何中点
5. **百分位数**，度量占总数特定百分比的观察点的值
6. **标准差**，显示指标分布中与平均值的标准差
7. **变化率**，显示时间序列中数据之间的变化程度

### 监控方法论

- Brendan Gregg的USE（Utilization、Saturation和Error）方法，侧重于主机监控
- Google的四个黄金指标，专注于应用程序级监控

#### USE方法

- 资源
- 使用率
- 饱和度
- 错误

#### Google的四个黄金指标

- 延迟
- 流量
- 错误
- 饱和度

    Weaveworks团队开发了一个名为RED（Rate、Error和Duration）的相关框架。




